<!DOCTYPE html> <!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--> <!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8"><![endif]--> <!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9"><![endif]--> <!--[if gt IE 8]><!--> <html class="no-js"><!--<![endif]--> <head> <meta charset="UTF-8"> <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> <meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"> <title>한국인만 알아볼 수 있는 리뷰 만들기 &#8211; JINH-ZERO-PARK</title> <meta name="description" content="Welcome."> <meta name="keywords" content=""> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="/assets/img/logo.png"> <meta name="twitter:title" content="한국인만 알아볼 수 있는 리뷰 만들기"> <meta name="twitter:description" content="한국인만 알아볼 수 있는 리뷰 만들기"> <!-- Open Graph --> <meta property="og:locale" content="en_US"> <meta property="og:type" content="article"> <meta property="og:title" content="한국인만 알아볼 수 있는 리뷰 만들기"> <meta property="og:description" content="한국인만 알아볼 수 있는 리뷰 만들기"> <meta property="og:url" content="/hangul/"> <meta property="og:site_name" content="JINH-ZERO-PARK"> <meta property="og:image" content="/assets/img/logo.png"> <link rel="canonical" href="/hangul/"> <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="JINH-ZERO-PARK Feed"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- CSS --> <link rel="stylesheet" href="/assets/css/main.css"> <!-- JS --> <script src="/assets/js/modernizr-3.3.1.custom.min.js"></script> <!-- Favicons --> <link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"> <link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"> <link rel="shortcut icon" type="image/png" href="/favicon.png" /> <link rel="shortcut icon" href="/favicon.ico" /> <!-- Background Image --> <style type="text/css">body {background-image:url(/assets/img/placeholder-big.jpg); background-repeat: no-repeat; background-size: cover; }</style> <!-- Post Feature Image --> </head> <body> <nav id="dl-menu" class="dl-menuwrapper" role="navigation"> <button class="dl-trigger">Open Menu</button> <ul class="dl-menu"> <li><a href="/">Home</a></li> <li> <a href="#">About</a> <ul class="dl-submenu"> <li> <img src="/assets/img/logo.png" alt="JINH-ZERO-PARK photo" class="author-photo"> <h4>JINH-ZERO-PARK</h4> <p>Welcome.</p> </li> <li><a href="/about/"><span class="btn btn-inverse">Learn More</span></a></li> <li> <a href="mailto:jinh0park@naver.com" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-envelope-square"></i> Email</a> </li> <li> <a href="http://instagram.com/jinh0park" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-instagram"></i> Instagram</a> </li> <li> <a href="http://github.com/jinh0park" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-github"></i> Github</a> </li> </ul><!-- /.dl-submenu --> </li> <li> <a href="#">Posts</a> <ul class="dl-submenu"> <li><a href="/posts/">All Posts</a></li> <li><a href="/tags/">All Tags</a></li> </ul> </li> <li><a href="/projects/" >Projects</a></li> </ul><!-- /.dl-menu --> </nav><!-- /.dl-menuwrapper --> <!-- Header --> <header class="header" role="banner"> <div class="wrapper animated fadeIn"> <div class="content"> <div class="post-title "> <h1>한국인만 알아볼 수 있는 리뷰 만들기</h1> <h4>05 Aug 2018</h4> <p class="reading-time"> <i class="fa fa-clock-o"></i> Reading time ~8 minutes </p><!-- /.entry-reading-time --> <a class="btn zoombtn" href="/posts/"> <i class="fa fa-chevron-left"></i> </a> </div> <h1 id="한국인만-알아볼-수-있는-리뷰-만들기">한국인만 알아볼 수 있는 리뷰 만들기</h1> <h2 id="python을-이용한-한글-유니코드-분리">Python을 이용한 한글 유니코드 분리</h2> <p>최근에 페이스북 게시물들을 보다가, 재밌는 글을 하나 발견했다. 숙소 어플에서 한국인이 남긴 리뷰가 화제가 된 것이다. “한국인만 알아볼 수 있는 리뷰”라는 제목이었는데, 아래처럼 한글을 일부러 변형해서 쓴 모습이었다. <img src="https://user-images.githubusercontent.com/39009836/43678986-021f8cea-9858-11e8-9a11-ab1941a87ae5.png" alt="image" width="70%" class="center-image" /> <em class="caption">ZARA…</em></p> <p>아마도 한국말로 안 좋은 리뷰를 작성하면 호텔 주인이 번역기로 돌려서 확인하고 삭제할까봐 번역기를 아예 돌리지 못하게 이런 식으로 글을 쓴 것 같다. 한국인의 근성이란…</p> <p>재밌어서 더 찾아보니, 실제로 외국 호텔 리뷰는 (악평을 할 경우)이런 식으로 작성한 경우가 꽤나 많았다. 하지만 저렇게 한땀한땀 변형해서 적는것도 귀찮은 일, 정상적으로 글을 작성하면 저런 식으로 변형하는 프로그램이 있으면 어떨까?라고 생각했고, 바로 실행에 옮겼다.</p> <hr /> <p>우선, 변형을 어떤 방식으로 할 지 생각해야한다.</p> <ul> <li>초성을 된소리로 바꿀까? <code class="highlighter-rouge">ex) 박진호 → 빡찐호</code></li> <li>모음을 비슷한 발음으로 변형할까? <code class="highlighter-rouge">ex) 박진호 → 뱍쥔효</code></li> <li>아니면 둘 다? <code class="highlighter-rouge">ex) 박진호 → 뺙쮠효</code></li> </ul> <p>이외에도 여러가지 방법이 있겠지만, 필자는 두 번째 방법을 선택했다. 첫 번째 방식을 하기엔 된소리가 없는 자음(ㄴ, ㅇ, ㅎ 등)이 너무 많았고, 그렇다고 세 번째 방식으로 하기엔 한국인도 읽기 힘들거라 생각했기 때문이다.</p> <p>그럼 모음을 어떻게 바꿀까? 특별한 기준은 없고, 그냥 필자 기준에서 발음해 봤을 때 비슷하다고 느껴지는 것들로 표를 작성했다. <img src="https://user-images.githubusercontent.com/39009836/43679125-a7f9960e-985a-11e8-8a4a-4bdce86f9311.png" alt="image" width="100%" class="center-image" /> <em class="caption">너무 대충 만든 것에 대해 국어 전공자 분들의 양해를 구합니다.<br />노란색으로 표시된 칸은 딱히 바꿀 모음이 떠오르지 않아서 그대로 둔 모음이다.</em> <code class="highlighter-rouge">ex) 박진호 -&gt; 뱍즨효</code> 아무튼, 여차저차해서 글자를 어떻게 바꿀지 계획은 다 세웠으니, 코딩을 해보자.</p> <hr /> <p><img src="https://user-images.githubusercontent.com/39009836/43679256-5924d3f6-985d-11e8-9eec-5fec49550adc.png" alt="image" width="100%" class="center-image" /></p> <p>대략적인 계획은 다음과 같다.</p> <ol> <li>글자를 초성, 중성, 종성으로 분리한다.</li> <li>중성을 다른 모음으로 변형한다.</li> <li>변형한 중성을 포함한 초성, 중성, 종성을 다시 합쳐 글자로 만든다.</li> </ol> <p>이렇게 하려면 우선 <strong>한글 글자를 분리하는 방법</strong> 에 대해서 알아야하는데, 이를 위해 우선 한글 유니코드에 대해 알아보자.</p> <p>한글 글자는 유니코드에 나열되어 있으며 ‘가’부터 ‘힣’까지 초성, 중성, 종성 순으로 총 11172개의 칸(<code class="highlighter-rouge">U+AC00</code>~<code class="highlighter-rouge">U+D7A3</code>)을 차지하고 있다.(<code class="highlighter-rouge">U+XXXX</code>안의 <code class="highlighter-rouge">XXXX</code>는 16진수 자연수로, 유니코드 상에서 해당 글자가 몇 번째에 나열되어 있는지를 말해준다. 즉 ‘가’는 AC00~(16)~(=44032~(10)~) 번째 글자라는 뜻이다.) <img src="https://user-images.githubusercontent.com/39009836/43679333-90e61aa6-985e-11e8-863c-f4f8e4eb4a1f.png" alt="image" width="70%" class="center-image" /></p> <p><strong>초성:</strong> “ㄱ”, “ㄲ”, “ㄴ”, “ㄷ”, “ㄸ”, “ㄹ”, “ㅁ”, “ㅂ”, “ㅃ”, “ㅅ”, “ㅆ”, “ㅇ”, “ㅈ”, “ㅉ”, “ㅊ”, “ㅋ”, “ㅌ”, “ㅍ”, “ㅎ” (총 19개)</p> <p><strong>중성:</strong> “ㅏ”, “ㅐ”, “ㅑ”, “ㅒ”, “ㅓ”, “ㅔ”, “ㅕ”, “ㅖ”, “ㅗ”, “ㅘ”, “ㅙ”, “ㅚ”, “ㅛ”, “ㅜ”, “ㅝ”, “ㅞ”, “ㅟ”, “ㅠ”, “ㅡ”, “ㅢ”, “ㅣ” (총 21개)</p> <p><strong>종성:</strong> “”, “ㄱ”, “ㄲ”, “ㄳ”, “ㄴ”, “ㄵ”, “ㄶ”, “ㄷ”, “ㄹ”, “ㄺ”, “ㄻ”, “ㄼ”, “ㄽ”, “ㄾ”, “ㄿ”, “ㅀ”, “ㅁ”, “ㅂ”, “ㅄ”, “ㅅ”, “ㅆ”, “ㅇ”, “ㅈ”, “ㅊ”, “ㅋ”, “ㅌ”, “ㅍ”, “ㅎ” (총 28개)</p> <p>초성, 중성, 종성의 개수가 각각 19, 21, 28이므로 19*21*28 = 11172개의 칸을 차지하고, 우선순위가 초성 &gt; 중성 &gt; 종성이기 때문에 위 그림처럼 가, 각, 갂, … 순서대로 나열된다.</p> <p>이 사실을 이용하면 한글의 어떤 글자가 유니코드상에서 ‘가’로부터 몇 번째에 배치되어 있는지(이를 <strong>순수한글코드</strong> 라고 하자.) 다음 공식을 통해 구할 수 있다.</p> <div class="highlighter-rouge"><pre class="highlight"><code>(초성 * 21 * 28) + (중성 * 28) + 종성

= ( (초성 * 21) + 중성 ) * 28 + 종성
</code></pre></div> <p>예를 들어, ‘박’의 경우 초성 ‘ㅂ’은 7번째(‘ㄱ’을 0번째로 센다), ‘ㅏ’는 0번째, ‘ㄱ’은 1번째이므로 순수한글코드는 ((7*21)+0)*28+1=4117, ‘가’가 44032번째 유니코드이므로 ‘박’은 44032+4117=48129번째, 즉 <code class="highlighter-rouge">U+BC15</code>에 해당된다.</p> <p>또한 역으로, 글자를 받아서 그 글자의 초성, 중성, 종성이 몇 번째에 해당하는지 다음 공식을 통해 구할 수 있다.</p> <ol> <li> <p>종성</p> <p>순수한글코드 % 20 = 종성</p> </li> <li> <p>중성</p> <p>( (순수한글코드 - 종성) / 28 ) % 21 = 중성</p> </li> <li> <p>초성</p> <p>( ( ( 순수한글코드 - 종성) / 28) - 중성) ) / 21 = 초성</p> </li> </ol> <p>예를 들어 ‘박’의 경우, 순수한글코드가 4117이다. 이를 위 식에 대입하면 초성은 7번쨰, 중성은 0번째, 종성은 1번째에 해당한다는 결과를 얻을 수 있으며 이는 각각 ‘ㅂ’, ‘ㅏ’, ‘ㄱ’에 해당된다.</p> <p>이제 모든 준비를 마쳤으니 본격적으로 프로그램을 짜보자.</p> <hr /> <p>####개발 환경: <code class="highlighter-rouge">Python 3</code></p> <p><code class="highlighter-rouge">Python</code>에서 해당 글자가 유니코드상 몇 번째에 위치하는지는 기본 내장 함수인 <code class="highlighter-rouge">ord</code>를 통해 구할 수 있다.</p> <div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="s">'가: {}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s">'가'</span><span class="p">)))</span>
<span class="k">print</span><span class="p">(</span><span class="s">'개: {}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s">'개'</span><span class="p">)))</span>
</code></pre></div> <div class="highlighter-rouge"><pre class="highlight"><code>가: 44032
개: 44060
</code></pre></div> <p>출력 형식은 당연히 <code class="highlighter-rouge">int</code>다.</p> <div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="nb">type</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="s">'가'</span><span class="p">))</span>
</code></pre></div> <div class="highlighter-rouge"><pre class="highlight"><code>int
</code></pre></div> <p>이를 다시 글자로 변환하고 싶다면, 역시 기본 내장 함수인 <code class="highlighter-rouge">chr</code>를 이용하면 된다. 즉, <code class="highlighter-rouge">ord</code>와 <code class="highlighter-rouge">chr</code>는 서로 역함수 관계이다.</p> <div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="nb">chr</span><span class="p">(</span><span class="mi">44032</span><span class="p">)</span>
</code></pre></div> <div class="highlighter-rouge"><pre class="highlight"><code>'가'
</code></pre></div> <p>연습 삼아 위에서 했던 예시들을 코딩해보자. 우선 초성, 중성, 종성에 대한 정보를 리스트로 저장한다.</p> <div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c">#초성</span>
<span class="n">iniL</span> <span class="o">=</span> <span class="p">[</span> <span class="s">"ㄱ"</span><span class="p">,</span> <span class="s">"ㄲ"</span><span class="p">,</span> <span class="s">"ㄴ"</span><span class="p">,</span> <span class="s">"ㄷ"</span><span class="p">,</span> <span class="s">"ㄸ"</span><span class="p">,</span> <span class="s">"ㄹ"</span><span class="p">,</span> <span class="s">"ㅁ"</span><span class="p">,</span> <span class="s">"ㅂ"</span><span class="p">,</span> <span class="s">"ㅃ"</span><span class="p">,</span>
        <span class="s">"ㅅ"</span><span class="p">,</span> <span class="s">"ㅆ"</span><span class="p">,</span> <span class="s">"ㅇ"</span><span class="p">,</span> <span class="s">"ㅈ"</span><span class="p">,</span> <span class="s">"ㅉ"</span><span class="p">,</span><span class="s">"ㅊ"</span><span class="p">,</span> <span class="s">"ㅋ"</span><span class="p">,</span> <span class="s">"ㅌ"</span><span class="p">,</span> <span class="s">"ㅍ"</span><span class="p">,</span> <span class="s">"ㅎ"</span> <span class="p">]</span>
<span class="c">#중성</span>
<span class="n">neuL</span> <span class="o">=</span> <span class="p">[</span> <span class="s">"ㅏ"</span><span class="p">,</span> <span class="s">"ㅐ"</span><span class="p">,</span> <span class="s">"ㅑ"</span><span class="p">,</span> <span class="s">"ㅒ"</span><span class="p">,</span> <span class="s">"ㅓ"</span><span class="p">,</span> <span class="s">"ㅔ"</span><span class="p">,</span> <span class="s">"ㅕ"</span><span class="p">,</span> <span class="s">"ㅖ"</span><span class="p">,</span> <span class="s">"ㅗ"</span><span class="p">,</span>
         <span class="s">"ㅘ"</span><span class="p">,</span> <span class="s">"ㅙ"</span><span class="p">,</span> <span class="s">"ㅚ"</span><span class="p">,</span> <span class="s">"ㅛ"</span><span class="p">,</span> <span class="s">"ㅜ"</span><span class="p">,</span> <span class="s">"ㅝ"</span><span class="p">,</span> <span class="s">"ㅞ"</span><span class="p">,</span> <span class="s">"ㅟ"</span><span class="p">,</span> <span class="s">"ㅠ"</span><span class="p">,</span> <span class="s">"ㅡ"</span><span class="p">,</span> <span class="s">"ㅢ"</span><span class="p">,</span> <span class="s">"ㅣ"</span> <span class="p">]</span>
<span class="c">#종성</span>
<span class="n">finL</span> <span class="o">=</span> <span class="p">[</span> <span class="s">""</span><span class="p">,</span> <span class="s">"ㄱ"</span><span class="p">,</span> <span class="s">"ㄲ"</span><span class="p">,</span> <span class="s">"ㄳ"</span><span class="p">,</span> <span class="s">"ㄴ"</span><span class="p">,</span> <span class="s">"ㄵ"</span><span class="p">,</span> <span class="s">"ㄶ"</span><span class="p">,</span> <span class="s">"ㄷ"</span><span class="p">,</span> <span class="s">"ㄹ"</span><span class="p">,</span>
         <span class="s">"ㄺ"</span><span class="p">,</span> <span class="s">"ㄻ"</span><span class="p">,</span> <span class="s">"ㄼ"</span><span class="p">,</span> <span class="s">"ㄽ"</span><span class="p">,</span> <span class="s">"ㄾ"</span><span class="p">,</span> <span class="s">"ㄿ"</span><span class="p">,</span> <span class="s">"ㅀ"</span><span class="p">,</span> <span class="s">"ㅁ"</span><span class="p">,</span> <span class="s">"ㅂ"</span><span class="p">,</span>
         <span class="s">"ㅄ"</span><span class="p">,</span> <span class="s">"ㅅ"</span><span class="p">,</span> <span class="s">"ㅆ"</span><span class="p">,</span> <span class="s">"ㅇ"</span><span class="p">,</span> <span class="s">"ㅈ"</span><span class="p">,</span> <span class="s">"ㅊ"</span><span class="p">,</span> <span class="s">"ㅋ"</span><span class="p">,</span> <span class="s">"ㅌ"</span><span class="p">,</span><span class="s">"ㅍ"</span><span class="p">,</span> <span class="s">"ㅎ"</span> <span class="p">]</span>
</code></pre></div> <p>순수한글코드를 <code class="highlighter-rouge">x</code>라는 변수에 담아 초성, 중성, 종성을 각각 구하여 확인해본다.</p> <div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="s">'박'</span><span class="p">)</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s">'가'</span><span class="p">)</span>
<span class="n">ini</span> <span class="o">=</span> <span class="n">x</span><span class="o">%</span><span class="mi">28</span>
<span class="n">neu</span> <span class="o">=</span> <span class="p">((</span><span class="n">x</span><span class="o">-</span><span class="n">ini</span><span class="p">)</span><span class="o">//</span><span class="mi">28</span><span class="p">)</span><span class="o">%</span><span class="mi">21</span>
<span class="n">fin</span> <span class="o">=</span> <span class="p">(((</span><span class="n">x</span><span class="o">-</span><span class="n">ini</span><span class="p">)</span><span class="o">//</span><span class="mi">28</span><span class="p">)</span><span class="o">-</span><span class="n">neu</span><span class="p">)</span><span class="o">//</span><span class="mi">21</span>

<span class="k">print</span><span class="p">(</span><span class="s">'{}, {}, {}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ini</span><span class="p">,</span> <span class="n">neu</span><span class="p">,</span> <span class="n">fin</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">'{}, {}, {}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">iniL</span><span class="p">[</span><span class="n">ini</span><span class="p">],</span> <span class="n">neuL</span><span class="p">[</span><span class="n">neu</span><span class="p">],</span> <span class="n">finL</span><span class="p">[</span><span class="n">fin</span><span class="p">]))</span>
</code></pre></div> <div class="highlighter-rouge"><pre class="highlight"><code>7, 0, 1
ㅂ, ㅏ, ㄱ
</code></pre></div> <p>자, 생각했던 것과 똑같은 결과가 나왔음을 확인할 수 있다.</p> <p>코딩을 하다 보니 하나의 글자를 그 글자와 초성, 중성, 종성에 대한 정보를 담는 하나의 객체로 만들어서 관리하면 편리할 것이라는 생각이 들었다. 그래서 <code class="highlighter-rouge">Hangul</code>이라는 class를 생성했다.</p> <p>전체적인 코드는 다음과 같다.</p> <div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Hangul</span><span class="p">:</span>
    <span class="c">#초성: ini 중성: neu 종성: fin</span>
    <span class="n">element_query</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">'ini'</span> <span class="p">:</span> <span class="p">[</span> <span class="s">"ㄱ"</span><span class="p">,</span> <span class="s">"ㄲ"</span><span class="p">,</span> <span class="s">"ㄴ"</span><span class="p">,</span> <span class="s">"ㄷ"</span><span class="p">,</span> <span class="s">"ㄸ"</span><span class="p">,</span> <span class="s">"ㄹ"</span><span class="p">,</span> <span class="s">"ㅁ"</span><span class="p">,</span> <span class="s">"ㅂ"</span><span class="p">,</span> <span class="s">"ㅃ"</span><span class="p">,</span>
                <span class="s">"ㅅ"</span><span class="p">,</span> <span class="s">"ㅆ"</span><span class="p">,</span> <span class="s">"ㅇ"</span><span class="p">,</span> <span class="s">"ㅈ"</span><span class="p">,</span> <span class="s">"ㅉ"</span><span class="p">,</span><span class="s">"ㅊ"</span><span class="p">,</span> <span class="s">"ㅋ"</span><span class="p">,</span> <span class="s">"ㅌ"</span><span class="p">,</span> <span class="s">"ㅍ"</span><span class="p">,</span> <span class="s">"ㅎ"</span> <span class="p">],</span>

        <span class="s">'neu'</span> <span class="p">:</span> <span class="p">[</span> <span class="s">"ㅏ"</span><span class="p">,</span> <span class="s">"ㅐ"</span><span class="p">,</span> <span class="s">"ㅑ"</span><span class="p">,</span> <span class="s">"ㅒ"</span><span class="p">,</span> <span class="s">"ㅓ"</span><span class="p">,</span> <span class="s">"ㅔ"</span><span class="p">,</span> <span class="s">"ㅕ"</span><span class="p">,</span> <span class="s">"ㅖ"</span><span class="p">,</span> <span class="s">"ㅗ"</span><span class="p">,</span>
                 <span class="s">"ㅘ"</span><span class="p">,</span> <span class="s">"ㅙ"</span><span class="p">,</span> <span class="s">"ㅚ"</span><span class="p">,</span> <span class="s">"ㅛ"</span><span class="p">,</span> <span class="s">"ㅜ"</span><span class="p">,</span> <span class="s">"ㅝ"</span><span class="p">,</span> <span class="s">"ㅞ"</span><span class="p">,</span> <span class="s">"ㅟ"</span><span class="p">,</span> <span class="s">"ㅠ"</span><span class="p">,</span> <span class="s">"ㅡ"</span><span class="p">,</span> <span class="s">"ㅢ"</span><span class="p">,</span> <span class="s">"ㅣ"</span> <span class="p">],</span>

        <span class="s">'fin'</span> <span class="p">:</span> <span class="p">[</span> <span class="s">""</span><span class="p">,</span> <span class="s">"ㄱ"</span><span class="p">,</span> <span class="s">"ㄲ"</span><span class="p">,</span> <span class="s">"ㄳ"</span><span class="p">,</span> <span class="s">"ㄴ"</span><span class="p">,</span> <span class="s">"ㄵ"</span><span class="p">,</span> <span class="s">"ㄶ"</span><span class="p">,</span> <span class="s">"ㄷ"</span><span class="p">,</span> <span class="s">"ㄹ"</span><span class="p">,</span> <span class="s">"ㄺ"</span><span class="p">,</span>
                 <span class="s">"ㄻ"</span><span class="p">,</span> <span class="s">"ㄼ"</span><span class="p">,</span> <span class="s">"ㄽ"</span><span class="p">,</span> <span class="s">"ㄾ"</span><span class="p">,</span> <span class="s">"ㄿ"</span><span class="p">,</span> <span class="s">"ㅀ"</span><span class="p">,</span> <span class="s">"ㅁ"</span><span class="p">,</span> <span class="s">"ㅂ"</span><span class="p">,</span><span class="s">"ㅄ"</span><span class="p">,</span> <span class="s">"ㅅ"</span><span class="p">,</span> <span class="s">"ㅆ"</span><span class="p">,</span>
                 <span class="s">"ㅇ"</span><span class="p">,</span> <span class="s">"ㅈ"</span><span class="p">,</span> <span class="s">"ㅊ"</span><span class="p">,</span> <span class="s">"ㅋ"</span><span class="p">,</span> <span class="s">"ㅌ"</span><span class="p">,</span><span class="s">"ㅍ"</span><span class="p">,</span> <span class="s">"ㅎ"</span> <span class="p">]</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">letter_or_element</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">letter_or_element</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">letter</span> <span class="o">=</span> <span class="n">letter_or_element</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">separate</span><span class="p">(</span><span class="n">letter_or_element</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">letter_or_element</span><span class="p">)</span> <span class="o">==</span> <span class="nb">list</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">letter</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">combine</span><span class="p">(</span><span class="n">letter_or_element</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">element</span> <span class="o">=</span> <span class="n">letter_or_element</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">letter</span> <span class="o">=</span> <span class="s">""</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">element</span> <span class="o">=</span> <span class="p">[</span><span class="s">""</span><span class="p">,</span><span class="s">""</span><span class="p">,</span><span class="s">""</span><span class="p">]</span>          

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">letter</span>

    <span class="k">def</span> <span class="nf">separate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">letter</span><span class="p">):</span>
        <span class="n">x</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s">'가'</span><span class="p">)</span>
        <span class="n">fin_ord</span> <span class="o">=</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">28</span>
        <span class="n">neu_ord</span> <span class="o">=</span> <span class="p">((</span><span class="n">x</span> <span class="o">-</span> <span class="n">fin_ord</span><span class="p">)</span> <span class="o">//</span> <span class="mi">28</span><span class="p">)</span> <span class="o">%</span> <span class="mi">21</span>
        <span class="n">ini_ord</span> <span class="o">=</span> <span class="p">(((</span><span class="n">x</span> <span class="o">-</span> <span class="n">fin_ord</span><span class="p">)</span> <span class="o">//</span> <span class="mi">28</span><span class="p">)</span><span class="o">-</span> <span class="n">neu_ord</span><span class="p">)</span> <span class="o">//</span> <span class="mi">21</span>

        <span class="n">ini</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">element_query</span><span class="p">[</span><span class="s">'ini'</span><span class="p">][</span><span class="n">ini_ord</span><span class="p">]</span>
        <span class="n">neu</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">element_query</span><span class="p">[</span><span class="s">'neu'</span><span class="p">][</span><span class="n">neu_ord</span><span class="p">]</span>
        <span class="n">fin</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">element_query</span><span class="p">[</span><span class="s">'fin'</span><span class="p">][</span><span class="n">fin_ord</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">ini</span><span class="p">,</span> <span class="n">neu</span><span class="p">,</span> <span class="n">fin</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">combine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="n">ini_ord</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">element_query</span><span class="p">[</span><span class="s">'ini'</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">neu_ord</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">element_query</span><span class="p">[</span><span class="s">'neu'</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">fin_ord</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">element_query</span><span class="p">[</span><span class="s">'fin'</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

        <span class="n">hangul_ord</span> <span class="o">=</span> <span class="p">(((</span><span class="n">ini_ord</span> <span class="o">*</span> <span class="mi">21</span><span class="p">)</span> <span class="o">+</span> <span class="n">neu_ord</span><span class="p">)</span> <span class="o">*</span> <span class="mi">28</span><span class="p">)</span> <span class="o">+</span> <span class="n">fin_ord</span>

        <span class="k">return</span> <span class="nb">chr</span><span class="p">(</span><span class="n">hangul_ord</span> <span class="o">+</span> <span class="nb">ord</span><span class="p">(</span><span class="s">'가'</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">encrypt</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">neus_encrypt</span> <span class="o">=</span> <span class="p">[</span> <span class="s">"ㅑ"</span><span class="p">,</span> <span class="s">"ㅒ"</span><span class="p">,</span> <span class="s">"ㅒ"</span><span class="p">,</span> <span class="s">"ㅖ"</span><span class="p">,</span> <span class="s">"ㅕ"</span><span class="p">,</span> <span class="s">"ㅖ"</span><span class="p">,</span> <span class="s">"ㅖ"</span><span class="p">,</span> <span class="s">"ㅒ"</span><span class="p">,</span> <span class="s">"ㅛ"</span><span class="p">,</span>
                 <span class="s">"ㅙ"</span><span class="p">,</span> <span class="s">"ㅞ"</span><span class="p">,</span> <span class="s">"ㅞ"</span><span class="p">,</span> <span class="s">"ㅛ"</span><span class="p">,</span> <span class="s">"ㅠ"</span><span class="p">,</span> <span class="s">"ㅞ"</span><span class="p">,</span> <span class="s">"ㅝ"</span><span class="p">,</span> <span class="s">"ㅟ"</span><span class="p">,</span> <span class="s">"ㅠ"</span><span class="p">,</span> <span class="s">"ㅢ"</span><span class="p">,</span> <span class="s">"ㅢ"</span><span class="p">,</span> <span class="s">"ㅣ"</span> <span class="p">]</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="n">ret</span><span class="o">.</span><span class="n">element</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">neus_encrypt</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">element_query</span><span class="p">[</span><span class="s">'neu'</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">element</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span>
        <span class="n">ret</span><span class="o">.</span><span class="n">letter</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">combine</span><span class="p">(</span><span class="n">ret</span><span class="o">.</span><span class="n">element</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">ret</span>
</code></pre></div> <p>코드가 생각보다 길어지므로 하나하나 차근차근 설명하려한다.</p> <hr /> <p>우선 클래스 변수 element_query에 초성, 중성, 종성에 대한 정보를 저장한다.</p> <div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">element_query</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'ini'</span> <span class="p">:</span> <span class="p">[</span> <span class="s">"ㄱ"</span><span class="p">,</span> <span class="s">"ㄲ"</span><span class="p">,</span> <span class="s">"ㄴ"</span><span class="p">,</span> <span class="s">"ㄷ"</span><span class="p">,</span> <span class="s">"ㄸ"</span><span class="p">,</span> <span class="s">"ㄹ"</span><span class="p">,</span> <span class="s">"ㅁ"</span><span class="p">,</span> <span class="s">"ㅂ"</span><span class="p">,</span> <span class="s">"ㅃ"</span><span class="p">,</span>
            <span class="s">"ㅅ"</span><span class="p">,</span> <span class="s">"ㅆ"</span><span class="p">,</span> <span class="s">"ㅇ"</span><span class="p">,</span> <span class="s">"ㅈ"</span><span class="p">,</span> <span class="s">"ㅉ"</span><span class="p">,</span><span class="s">"ㅊ"</span><span class="p">,</span> <span class="s">"ㅋ"</span><span class="p">,</span> <span class="s">"ㅌ"</span><span class="p">,</span> <span class="s">"ㅍ"</span><span class="p">,</span> <span class="s">"ㅎ"</span> <span class="p">],</span>

    <span class="s">'neu'</span> <span class="p">:</span> <span class="p">[</span> <span class="s">"ㅏ"</span><span class="p">,</span> <span class="s">"ㅐ"</span><span class="p">,</span> <span class="s">"ㅑ"</span><span class="p">,</span> <span class="s">"ㅒ"</span><span class="p">,</span> <span class="s">"ㅓ"</span><span class="p">,</span> <span class="s">"ㅔ"</span><span class="p">,</span> <span class="s">"ㅕ"</span><span class="p">,</span> <span class="s">"ㅖ"</span><span class="p">,</span> <span class="s">"ㅗ"</span><span class="p">,</span>
             <span class="s">"ㅘ"</span><span class="p">,</span> <span class="s">"ㅙ"</span><span class="p">,</span> <span class="s">"ㅚ"</span><span class="p">,</span> <span class="s">"ㅛ"</span><span class="p">,</span> <span class="s">"ㅜ"</span><span class="p">,</span> <span class="s">"ㅝ"</span><span class="p">,</span> <span class="s">"ㅞ"</span><span class="p">,</span> <span class="s">"ㅟ"</span><span class="p">,</span> <span class="s">"ㅠ"</span><span class="p">,</span> <span class="s">"ㅡ"</span><span class="p">,</span> <span class="s">"ㅢ"</span><span class="p">,</span> <span class="s">"ㅣ"</span> <span class="p">],</span>

    <span class="s">'fin'</span> <span class="p">:</span> <span class="p">[</span> <span class="s">""</span><span class="p">,</span> <span class="s">"ㄱ"</span><span class="p">,</span> <span class="s">"ㄲ"</span><span class="p">,</span> <span class="s">"ㄳ"</span><span class="p">,</span> <span class="s">"ㄴ"</span><span class="p">,</span> <span class="s">"ㄵ"</span><span class="p">,</span> <span class="s">"ㄶ"</span><span class="p">,</span> <span class="s">"ㄷ"</span><span class="p">,</span> <span class="s">"ㄹ"</span><span class="p">,</span> <span class="s">"ㄺ"</span><span class="p">,</span>
             <span class="s">"ㄻ"</span><span class="p">,</span> <span class="s">"ㄼ"</span><span class="p">,</span> <span class="s">"ㄽ"</span><span class="p">,</span> <span class="s">"ㄾ"</span><span class="p">,</span> <span class="s">"ㄿ"</span><span class="p">,</span> <span class="s">"ㅀ"</span><span class="p">,</span> <span class="s">"ㅁ"</span><span class="p">,</span> <span class="s">"ㅂ"</span><span class="p">,</span><span class="s">"ㅄ"</span><span class="p">,</span> <span class="s">"ㅅ"</span><span class="p">,</span> <span class="s">"ㅆ"</span><span class="p">,</span>
             <span class="s">"ㅇ"</span><span class="p">,</span> <span class="s">"ㅈ"</span><span class="p">,</span> <span class="s">"ㅊ"</span><span class="p">,</span> <span class="s">"ㅋ"</span><span class="p">,</span> <span class="s">"ㅌ"</span><span class="p">,</span><span class="s">"ㅍ"</span><span class="p">,</span> <span class="s">"ㅎ"</span> <span class="p">]</span>
<span class="p">}</span>
</code></pre></div> <hr /> <p>다음은 클래스의 생성자에 해당하는 부분이다. 객체를 생성할 때 인자로 글자(<code class="highlighter-rouge">letter</code>)를 받거나 초성, 중성, 종성 조합(<code class="highlighter-rouge">element</code>)을 받는 두 가지 경우를 모두 허용하려고 했다. 그런데, <code class="highlighter-rouge">Python</code>은 생성자 오버로딩을 지원하지 않는다. 따라서 아래와 같이 <code class="highlighter-rouge">if ~ else</code>구문을 이용해서 구현하였다.</p> <p>인스턴스는 두 변수 <code class="highlighter-rouge">letter</code>와 <code class="highlighter-rouge">element</code>를 가지며, <code class="highlighter-rouge">letter</code>는 글자 자체, 즉 ‘박’에 해당하며 <code class="highlighter-rouge">element</code>는 초성, 중성, 종성의 리스트, 즉 <code class="highlighter-rouge">['ㅂ', 'ㅏ','ㄱ']</code>에 해당한다.</p> <div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">letter_or_element</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">letter_or_element</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">letter</span> <span class="o">=</span> <span class="n">letter_or_element</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">separate</span><span class="p">(</span><span class="n">letter_or_element</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">type</span><span class="p">(</span><span class="n">letter_or_element</span><span class="p">)</span> <span class="o">==</span> <span class="nb">list</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">letter</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">combine</span><span class="p">(</span><span class="n">letter_or_element</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">element</span> <span class="o">=</span> <span class="n">letter_or_element</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">letter</span> <span class="o">=</span> <span class="s">""</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">element</span> <span class="o">=</span> <span class="p">[</span><span class="s">""</span><span class="p">,</span><span class="s">""</span><span class="p">,</span><span class="s">""</span><span class="p">]</span>  
</code></pre></div> <p>생성자를 테스트 해보면 다음과 같이 잘 작동하는 모습을 볼 수 있다.</p> <div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">a</span> <span class="o">=</span> <span class="n">Hangul</span><span class="p">(</span><span class="s">'돌'</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">Hangul</span><span class="p">([</span><span class="s">'ㄱ'</span><span class="p">,</span><span class="s">'ㅔ'</span><span class="p">,</span><span class="s">'ㅁ'</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="s">'{}{}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">letter</span><span class="p">,</span><span class="n">b</span><span class="o">.</span><span class="n">letter</span><span class="p">))</span>
</code></pre></div> <div class="highlighter-rouge"><pre class="highlight"><code>돌겜
</code></pre></div> <hr /> <p>출력될 때 어떤 방식으로 자신의 내용물을 보여줄지 결정하는 <code class="highlighter-rouge">__str__</code> 함수이다. ‘가’를 담고 있는 객체면 ‘가’를 출력하는게 적합하므로 <code class="highlighter-rouge">letter</code>를 반환한다.</p> <div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>        
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">letter</span>
</code></pre></div> <p><code class="highlighter-rouge">__str__</code>함수에 대해 잠깐 짚고 넘어가자. <code class="highlighter-rouge">__str__</code> 함수를 따로 선언하지 않았을 경우 다음 코드는 아래와 같은 출력을 가진다.</p> <div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">han</span> <span class="o">=</span> <span class="n">Hangul</span><span class="p">(</span><span class="s">'한'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">han</span><span class="p">)</span>
</code></pre></div> <div class="highlighter-rouge"><pre class="highlight"><code>&lt;__main__.Hangul object at 0x0000024A78491E10&gt; 하지만 `__str__` 함수를 위와 같이 선언해주면, 똑같은 코드에 대해 아래와 같이 출력된다.

'한'
</code></pre></div> <p>즉 <code class="highlighter-rouge">__str__</code>은 객체의 얼굴을 담당하는 함수이다.</p> <hr /> <p>글자를 받으면 그것을 초성, 중성, 종성으로 분리하는 <code class="highlighter-rouge">separate</code>함수와 초성, 중성, 종성의 리스트를 받으면 그것을 글자로 합치는 <code class="highlighter-rouge">combine</code>함수이다. 로직은 위에서 한 예시와 같으므로 생략한다.</p> <div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">separate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">letter</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span> <span class="o">-</span> <span class="nb">ord</span><span class="p">(</span><span class="s">'가'</span><span class="p">)</span>
    <span class="n">fin_ord</span> <span class="o">=</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">28</span>
    <span class="n">neu_ord</span> <span class="o">=</span> <span class="p">((</span><span class="n">x</span> <span class="o">-</span> <span class="n">fin_ord</span><span class="p">)</span> <span class="o">//</span> <span class="mi">28</span><span class="p">)</span> <span class="o">%</span> <span class="mi">21</span>
    <span class="n">ini_ord</span> <span class="o">=</span> <span class="p">(((</span><span class="n">x</span> <span class="o">-</span> <span class="n">fin_ord</span><span class="p">)</span> <span class="o">//</span> <span class="mi">28</span><span class="p">)</span><span class="o">-</span> <span class="n">neu_ord</span><span class="p">)</span> <span class="o">//</span> <span class="mi">21</span>

    <span class="n">ini</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">element_query</span><span class="p">[</span><span class="s">'ini'</span><span class="p">][</span><span class="n">ini_ord</span><span class="p">]</span>
    <span class="n">neu</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">element_query</span><span class="p">[</span><span class="s">'neu'</span><span class="p">][</span><span class="n">neu_ord</span><span class="p">]</span>
    <span class="n">fin</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">element_query</span><span class="p">[</span><span class="s">'fin'</span><span class="p">][</span><span class="n">fin_ord</span><span class="p">]</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">ini</span><span class="p">,</span> <span class="n">neu</span><span class="p">,</span> <span class="n">fin</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">combine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
    <span class="n">ini_ord</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">element_query</span><span class="p">[</span><span class="s">'ini'</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">neu_ord</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">element_query</span><span class="p">[</span><span class="s">'neu'</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">fin_ord</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">element_query</span><span class="p">[</span><span class="s">'fin'</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">element</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">hangul_ord</span> <span class="o">=</span> <span class="p">(((</span><span class="n">ini_ord</span> <span class="o">*</span> <span class="mi">21</span><span class="p">)</span> <span class="o">+</span> <span class="n">neu_ord</span><span class="p">)</span> <span class="o">*</span> <span class="mi">28</span><span class="p">)</span> <span class="o">+</span> <span class="n">fin_ord</span>

    <span class="k">return</span> <span class="nb">chr</span><span class="p">(</span><span class="n">hangul_ord</span> <span class="o">+</span> <span class="nb">ord</span><span class="p">(</span><span class="s">'가'</span><span class="p">))</span>
</code></pre></div> <p>한 가지 주의할 점은, <code class="highlighter-rouge">Python</code>은 <code class="highlighter-rouge">C</code>와는 다르게 정수 사이의 연산이어도 <code class="highlighter-rouge">/</code> 연산자가 몫이 아닌 실제로 나눈 실수 값, <code class="highlighter-rouge">float</code>을 반환한다. 따라서 몫을 반환하는 연산자인 <code class="highlighter-rouge">//</code>를 써야한다.</p> <hr /> <p>우리가 의도한 대로 글자를 변형하여 반환하는 함수 <code class="highlighter-rouge">encrypt</code>이다. 초성, 중성, 종성 리스트에서 중성을 설정한 값 <code class="highlighter-rouge">neus_encrypt</code>로 변환하고 그것에 해당하는 글자를 만들어 <code class="highlighter-rouge">Hangul</code> 객체를 반환한다.</p> <div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">encrypt</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">neus_encrypt</span> <span class="o">=</span> <span class="p">[</span> <span class="s">"ㅑ"</span><span class="p">,</span> <span class="s">"ㅒ"</span><span class="p">,</span> <span class="s">"ㅒ"</span><span class="p">,</span> <span class="s">"ㅖ"</span><span class="p">,</span> <span class="s">"ㅕ"</span><span class="p">,</span> <span class="s">"ㅖ"</span><span class="p">,</span> <span class="s">"ㅖ"</span><span class="p">,</span> <span class="s">"ㅒ"</span><span class="p">,</span> <span class="s">"ㅛ"</span><span class="p">,</span>
             <span class="s">"ㅙ"</span><span class="p">,</span> <span class="s">"ㅞ"</span><span class="p">,</span> <span class="s">"ㅞ"</span><span class="p">,</span> <span class="s">"ㅛ"</span><span class="p">,</span> <span class="s">"ㅠ"</span><span class="p">,</span> <span class="s">"ㅞ"</span><span class="p">,</span> <span class="s">"ㅝ"</span><span class="p">,</span> <span class="s">"ㅟ"</span><span class="p">,</span> <span class="s">"ㅠ"</span><span class="p">,</span> <span class="s">"ㅢ"</span><span class="p">,</span> <span class="s">"ㅢ"</span><span class="p">,</span> <span class="s">"ㅣ"</span> <span class="p">]</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span>
    <span class="n">ret</span><span class="o">.</span><span class="n">element</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">neus_encrypt</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">element_query</span><span class="p">[</span><span class="s">'neu'</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">element</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span>
    <span class="n">ret</span><span class="o">.</span><span class="n">letter</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">combine</span><span class="p">(</span><span class="n">ret</span><span class="o">.</span><span class="n">element</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">ret</span>
</code></pre></div> <p>작성한 <code class="highlighter-rouge">encrypt</code> 함수가 잘 작동하는지 테스트해보자.</p> <div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="s">'세종대왕'</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">Hangul</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span><span class="o">.</span><span class="n">encrypt</span><span class="p">(),</span> <span class="n">end</span> <span class="o">=</span> <span class="s">""</span><span class="p">)</span>
</code></pre></div> <div class="highlighter-rouge"><pre class="highlight"><code>셰죵댸왱
</code></pre></div> <p>잘 작동한다. 어찌된게 조금 약올리는(?) 느낌이 들지만 넘어가자.</p> <hr /> <p>이제 글자 하나를 변형하는 방법을 완성했으니, 글자 여러 개로 이루어진 텍스트를 변형할 차례이다. 이를 위해 새로운 함수 <code class="highlighter-rouge">encrypt_text</code>를 선언하였다. <code class="highlighter-rouge">encrypt_text</code> 함수는 문자열을 받아 변형된 문자열을 반환한다.</p> <div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">encrypt_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="n">encrypted</span> <span class="o">=</span> <span class="s">""</span>
    <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">text</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">ord</span><span class="p">(</span><span class="s">'가'</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="nb">ord</span><span class="p">(</span><span class="s">'힣'</span><span class="p">):</span>
            <span class="n">encrypted</span> <span class="o">+=</span> <span class="n">Hangul</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span><span class="o">.</span><span class="n">encrypt</span><span class="p">()</span><span class="o">.</span><span class="n">letter</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">encrypted</span> <span class="o">+=</span> <span class="n">letter</span>
    <span class="k">return</span> <span class="n">encrypted</span>
</code></pre></div> <p><code class="highlighter-rouge">Hangul</code> 객체는 한글 글자 <code class="highlighter-rouge">가</code>~<code class="highlighter-rouge">힣</code>만을 받는 것을 전제로 하고 있으므로 알파벳 같은 다른 문자가 들어가면 에러를 발생시킨다. 그래서 함수 내에 문자가 <code class="highlighter-rouge">가</code>~<code class="highlighter-rouge">힣</code>에 있을 때만 <code class="highlighter-rouge">encrypt</code>하고, 나머지 문자는 그대로 나오도록 하였다.</p> <p><code class="highlighter-rouge">encrypt_text</code>를 테스트해보자.</p> <div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">text</span> <span class="o">=</span> <span class="s">"동해물과 백두산이 마르고 닳도록"</span>
<span class="k">print</span><span class="p">(</span><span class="n">encrypt_text</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>
</code></pre></div> <div class="highlighter-rouge"><pre class="highlight"><code>둉햬뮬괘 뱩듀샨이 먀릐교 댫됴룍
</code></pre></div> <p>잘 작동한다.</p> <p>이 글의 목적이 호텔 리뷰 작성이었으므로 호텔 리뷰도 변형해본다.</p> <div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">review</span> <span class="o">=</span> <span class="s">"이 호텔 시설이 너무 별로였어요. 서비스도 좋지 않았습니다."</span>
<span class="k">print</span><span class="p">(</span><span class="n">encrypt_text</span><span class="p">(</span><span class="n">review</span><span class="p">))</span>
</code></pre></div> <div class="highlighter-rouge"><pre class="highlight"><code>이 효톌 시셜이 녀뮤 볠료옜여요. 셔비싀됴 죻지 얂얐싑니댜.
</code></pre></div> <p>정말 한국인만 알아볼 수 있는 리뷰를 만들어냈다! 정말 그럴까? 구글 번역기에 출력된 결과를 넣고 돌려보자. <img src="https://user-images.githubusercontent.com/39009836/43682257-59b41208-98aa-11e8-9f00-cead9549c105.png" alt="image" width="70%" class="center-image" /></p> <p>의도와 일치하는 결과를 보여주었다. 구글 번역기도 안 통하는, 한국인만 알아볼 수 있는 리뷰 작성 프로그램을 완성했다!</p> <p>…그런데 아무리 봐도 약오르는 느낌을 지울 수가 없어서 아예 약올리는 용도로 사용해보았다.</p> <div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">text</span> <span class="o">=</span> <span class="s">"야~ 따라하지 말라고~."</span>
<span class="k">print</span><span class="p">(</span><span class="n">encrypt_text</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>
</code></pre></div> <div class="highlighter-rouge"><pre class="highlight"><code>얘~ 땨랴햐지 먈랴교~.
</code></pre></div> <p><img src="https://user-images.githubusercontent.com/39009836/43682282-383bd16e-98ab-11e8-92ba-4c52ba12049e.png" alt="image" width="60%" class="center-image" /></p> <p>출처</p> <p>[1] <a href="http://dream.ahboom.net/entry/한글-유니코드-자소-분리-방법">http://dream.ahboom.net/entry/한글-유니코드-자소-분리-방법</a></p> <p>[2] <a href="https://docs.python.org/ko/3/library/functions.html#chr">https://docs.python.org/ko/3/library/functions.html#chr</a></p> <p>[3] <a href="https://www.unicode.org/charts/PDF/UAC00.pdf">https://www.unicode.org/charts/PDF/UAC00.pdf</a></p> <div class="entry-meta"> <br> <hr> <span class="entry-tags"></span> <!-- <span class="social-share"> <a href="https://www.facebook.com/sharer/sharer.php?u=/hangul/" title="Share on Facebook" class="tag"> <span class="term"><i class="fa fa-facebook-square"></i> Share</span> </a> <a href="https://twitter.com/intent/tweet?text=/hangul/" title="Share on Twitter" class="tag"> <span class="term"><i class="fa fa-twitter-square"></i> Tweet</span> </a> <a href="https://plus.google.com/share?url=/hangul/" title="Share on Google+" class="tag"> <span class="term"><i class="fa fa-google-plus-square"></i> +1</span> </a> </span> --> <div style="clear:both"></div> </div> </div> </div> <section id="disqus_thread" class="animated fadeInUp"></section><!-- /#disqus_thread --> </header> <!-- JS --> <script src="/assets/js/jquery-1.12.0.min.js"></script> <script src="/assets/js/jquery.dlmenu.min.js"></script> <script src="/assets/js/jquery.goup.min.js"></script> <script src="/assets/js/jquery.magnific-popup.min.js"></script> <script src="/assets/js/jquery.fitvid.min.js"></script> <script src="/assets/js/scripts.js"></script> <script type="text/javascript"> var disqus_shortname = 'jinh0park'; (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); (function () { var s = document.createElement('script'); s.async = true; s.type = 'text/javascript'; s.src = '//' + disqus_shortname + '.disqus.com/count.js'; (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s); }()); </script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> <!-- MathJax --> <script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> </body> </html>
